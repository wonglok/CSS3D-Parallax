!function(){"use strict";function t(){var t={fac:{},inst:{},val:function(n,e){t.inst[n]=e},set:function(n,e){t.inst[n]=null,t.fac[n]=e},get:function(n){return t.inst[n]||(t.inst[n]=t.make(n))},make:function(n){var e=t.fac[n];if(e)return console.log("coreMake: "+n),e();throw new Error("Factory Not Found!! "+n)}};return t}window.core=new t,console.log(window.core)}(),function(t,n,e){"use strict";t.val("val.sys",{winHeight:0,winWidth:0,clientX:0,clientY:0,centerX:0,centerY:0,scrollY:0,currentPageIndex:0,sections:[],slideSectionClass:".slide-section",orientX:0,orientY:0}),t.val("val.lastSys",{clientX:0}),t.val("fn.extend",function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}),t.set("mod.loop",function(){function n(){d.scrollY===l.scrollY&&c.stop(),u(d,l)}function e(){r=window.requestAnimationFrame(e),void 0!==s.render&&"function"==typeof s.render&&(n(),s.render())}function o(){a=!1,window.cancelAnimationFrame(r)}function i(){a||(a=!0,e())}var r,c={},s=t.get("mod.renderer"),a=!1,u=t.get("fn.extend"),l=t.get("val.sys"),d=t.get("val.lastSys");return c.stop=o,c.start=i,c}),t.set("mod.renderer",function(){function o(t){return h.sections[t].offset}function i(t){return h.sections[t].height}function r(t){var n=Math.abs(h.winHeight-i(t))/2,e=h.scrollY-o(t)+n;return e}function c(t,e,o,i){n(t.el).css("transform","translate3d("+e+"px,"+o+"px,"+i+"px)")}function s(t,e,o){-70>=e&&(e=-70),e>=70&&(e=70),n(t.el).css("transform","rotateY("+e+"deg) rotateX("+o*-.3+"deg)")}function a(t,n){t.items.forEach(function(e){var o=h.centerX/-10*e.factor/3,i=(r(n)/4+h.centerY/-10)*e.factor/10,a=0;"true"===t.vOnly&&(o=0,i=r(n)/4*e.factor/10),"true"===t.threed?s(e,o,i,a):c(e,o,i,a)})}function u(t,n){t.items.forEach(function(e){var o=h.orientX,i=h.orientY+r(n)/4*e.factor/10,a=0;"true"===t.vOnly&&(o=0,i=r(n)/4*e.factor/10),"true"===t.threed?s(e,o,i,a):c(e,o,i,a)})}function l(t,n){e.touch?u(t,n):a(t,n)}function d(t,n){(h.currentPageIndex===n||h.currentPageIndex===n+1||h.currentPageIndex===n-1)&&l(t,n)}function f(){h.sections.forEach(d)}var v={},h=t.get("val.sys");return v.render=f,v}),t.val("fn.throttle",function(t,n){var e=!0;return function(o){e&&(e=!1,setTimeout(function(){e=!0},n),t(o))}}),t.val("fn.debounce",function(t,n,e){var o;return function(){var i=this,r=arguments,c=function(){o=null,e||t.apply(i,r)},s=e&&!o;clearTimeout(o),o=setTimeout(c,n),s&&t.apply(i,r)}}),t.set("mod.parallax",function(){function o(){d.sections=[],n(d.slideSectionClass).each(function(){var t=[];n(this).find(".so").each(function(){t.push({el:n(this)[0],factor:n(this).attr("factor")})}),d.sections.push({isSlide:!0,height:n(this).height(),offset:n(this).offset().top,items:t,vOnly:n(this).attr("vOnly"),threed:n(this).attr("threed")})})}function i(){d.centerX=d.winWidth/2-d.clientX,d.centerY=d.winHeight/2-d.clientY}function r(){var t=d.sections;d.currentPageIndex=0;for(var n=t.length-1;n>=0;n--)if(d.scrollY>=t[n].offset){d.currentPageIndex=n;break}}function c(){d.winHeight=document.documentElement.clientHeight,d.winWidth=document.documentElement.clientWidth,i(),o(),l.start()}function s(t){d.clientX=t.clientX,d.clientY=t.clientY,i(),l.start()}function a(){d.scrollY=window.scrollY,r(),l.start()}var u={},l=t.get("mod.loop"),d=t.get("val.sys"),f=t.get("mod.mobileScroll"),v=t.get("fn.debounce"),h=t.get("mod.deviceOrient");return u.init=function(){var t=v(c,16);t(),window.addEventListener("orientationchange",t),window.addEventListener("resize",t),window.addEventListener("scroll",a),e.touch?(f.init(),h.init()):window.addEventListener("mousemove",s)},u}),t.set("mod.mobileScroll",function(){function n(t){i=t.touches[0].clientX,r=t.touches[0].clientY}function e(t){t.preventDefault();var n=t.touches[0].clientX,e=t.touches[0].clientY,o=i-n,c=r-e,a=o+window.scrollX,u=c+window.scrollY;window.scrollTo(a,u),s.scrollX=a,s.scrollY=u,i=n,r=e}function o(){document.addEventListener("touchstart",n),document.addEventListener("touchmove",e)}var i,r,c={},s=t.get("val.sys");return c.init=o,c}),t.set("mod.deviceOrient",function(){function e(t){var n=t.beta,e=t.gamma;r.orientX=e,r.orientY=n-35,c.start()}function o(){var t=navigator.userAgent.toLowerCase(),o=t.indexOf("android")>-1;o&&n("html").addClass("android"),window.addEventListener("deviceorientation",e)}var i={},r=t.get("val.sys"),c=t.get("mod.loop");return i.init=o,i})}(window.core,window.$,window.Modernizr),function(t){"use strict";t.set("mod.main",function(){var n={},e=t.get("mod.parallax");return n.init=function(){console.log("main init"),e.init()},n}),t.get("mod.main").init()}(window.core);