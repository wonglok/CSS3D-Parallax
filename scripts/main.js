!function(){"use strict";function n(){var n={fac:{},inst:{},val:function(t,e){n.inst[t]=e},set:function(t,e){n.inst[t]=null,n.fac[t]=e},get:function(t){return n.inst[t]||(n.inst[t]=n.make(t))},make:function(t){var e=n.fac[t];if(e)return console.log("coreMake: "+t),e();throw new Error("Factory Not Found!! "+t)}};return n}window.core=new n,console.log(window.core)}(),function(n,t,e){"use strict";n.val("val.sys",{winHeight:0,winWidth:0,clientX:0,clientY:0,screenCenterX:0,screenCenterY:0,scrollY:0,currentPageIndex:0,sections:[],slideSectionClass:".slide-section",orX:0,orY:0}),n.val("val.lastSys",{clientX:0}),n.val("fn.extend",function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}),n.set("mod.loop",function(){function t(){d.scrollY===u.scrollY&&c.stop(),l(d,u)}function e(){r=window.requestAnimationFrame(e),void 0!==s.render&&"function"==typeof s.render&&(t(),s.render())}function o(){a=!1,window.cancelAnimationFrame(r)}function i(){a||(a=!0,e())}var r,c={},s=n.get("mod.renderer"),a=!1,l=n.get("fn.extend"),u=n.get("val.sys"),d=n.get("val.lastSys");return c.stop=o,c.start=i,c}),n.set("mod.renderer",function(){function o(n){return f.sections[n].offset}function i(n){return f.sections[n].height}function r(n){var t=Math.abs(f.winHeight-i(n))/2,e=f.scrollY-o(n)+t;return e}function c(n,e){n.items.forEach(function(n){var o=f.screenCenterX/-10*n.factor/3,i=(r(e)/4+f.screenCenterY/-10)*n.factor/10,c=0;t(n.el).css("transform","translate3d("+o+"px,"+i+"px,"+c+"px)")})}function s(n,e){n.items.forEach(function(n){var o=f.orX,i=f.orY+r(e)/4*n.factor/10,c=0;t(n.el).css("transform","translate3d("+o+"px,"+i+"px,"+c+"px)")})}function a(n,t){e.touch?s(n,t):c(n,t)}function l(n,t){(f.currentPageIndex===t||f.currentPageIndex===t+1||f.currentPageIndex===t-1)&&a(n,t)}function u(){f.sections.forEach(l)}var d={},f=n.get("val.sys");return d.render=u,d}),n.val("fn.throttle",function(n,t){var e=!0;return function(o){e&&(e=!1,setTimeout(function(){e=!0},t),n(o))}}),n.set("mod.parallax",function(){function o(){d.sections=[],t(d.slideSectionClass).each(function(){var n=[];t(this).find(".so").each(function(){n.push({el:t(this)[0],scroll:t(this).attr("scroll"),mouse:t(this).attr("mouse"),factor:t(this).attr("factor")})}),d.sections.push({isSlide:!0,height:t(this).height(),offset:t(this).offset().top,items:n})})}function i(){d.screenCenterX=d.winWidth/2-d.clientX,d.screenCenterY=d.winHeight/2-d.clientY}function r(){var n=d.sections;d.currentPageIndex=0;for(var t=n.length-1;t>=0;t--)if(d.scrollY>=n[t].offset){d.currentPageIndex=t;break}}function c(){d.winHeight=document.documentElement.clientHeight,d.winWidth=document.documentElement.clientWidth,i(),u.start()}function s(n){d.clientX=n.clientX,d.clientY=n.clientY,i(),u.start()}function a(){d.scrollY=window.scrollY,r(),u.start()}var l={},u=n.get("mod.loop"),d=n.get("val.sys"),f=n.get("mod.mobileScroll"),m=n.get("mod.deviceOrient");return l.init=function(){o(),c(),window.addEventListener("resize",c),window.addEventListener("scroll",a),e.touch?(f.init(),m.init()):window.addEventListener("mousemove",s)},l}),n.set("mod.mobileScroll",function(){function t(n){i=n.touches[0].clientX,r=n.touches[0].clientY}function e(n){n.preventDefault();var t=n.touches[0].clientX,e=n.touches[0].clientY,o=i-t,c=r-e,a=o+window.scrollX,l=c+window.scrollY;window.scrollTo(a,l),s.scrollX=a,s.scrollY=l,i=t,r=e}function o(){document.addEventListener("touchstart",t),document.addEventListener("touchmove",e)}var i,r,c={},s=n.get("val.sys");return c.init=o,c}),n.set("mod.deviceOrient",function(){function t(n){var t=n.beta,e=n.gamma;t>90&&(t=90),-90>t&&(t=-90),i.orX=e,i.orY=t,r.start()}function e(){var n=/iPad|iPhone|iPod/.test(navigator.platform);n&&window.addEventListener("deviceorientation",t)}var o={},i=n.get("val.sys"),r=n.get("mod.loop");return o.init=e,o})}(window.core,window.$,window.Modernizr),function(n){"use strict";n.set("mod.main",function(){var t={},e=n.get("mod.parallax");return t.init=function(){console.log("main init"),e.init()},t}),n.get("mod.main").init()}(window.core);