!function(){"use strict";function n(){var n={fac:{},inst:{},val:function(e,t){n.inst[e]=t},set:function(e,t){n.inst[e]=null,n.fac[e]=t},get:function(e){return n.inst[e]||(n.inst[e]=n.make(e))},make:function(e){var t=n.fac[e];if(t)return console.log("coreMake: "+e),t();throw new Error("Factory Not Found!! "+e)}};return n}window.core=new n,console.log(window.core)}(),function(n,e,t){"use strict";n.val("val.sys",{slideVh:.75,winHeight:0,winWidth:0,clientX:0,clientY:0,screenCenterX:0,screenCenterY:0,scrollY:0,currentPageIndex:0,headerHeight:0,sections:[],sectionClass:".section",slideSectionClass:".slide-section"}),n.val("val.lastSys",{clientX:0}),n.val("fn.extend",function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}),n.set("mod.loop",function(){function e(){f.clientX===l.clientX&&f.scrollY===l.scrollY&&s.stop(),u(f,l)}function t(){r=window.requestAnimationFrame(t),void 0!==c.render&&"function"==typeof c.render&&(e(),c.render())}function i(){a=!1,window.cancelAnimationFrame(r)}function o(){a||(a=!0,t())}var r,s={},c=n.get("mod.renderer"),a=!1,u=n.get("fn.extend"),l=n.get("val.sys"),f=n.get("val.lastSys");return s.stop=i,s.start=o,s}),n.set("mod.renderer",function(){function i(n){return f.sections[n].offset}function o(n){return f.sections[n].height}function r(n){var e=Math.abs(f.winHeight-o(n))/2,t=f.scrollY-i(n)+e;return t}function s(n,t){n.items.forEach(function(n){var i=f.screenCenterX/-10,o=r(t)/4+f.screenCenterY/-10,s=0;e(n).css("transform","translate3d("+i+"px,"+o+"px,"+s+"px)")})}function c(n,e){n.isSlide===!0&&(t.touch||s(n,e))}function a(n,e){(f.currentPageIndex===e||f.currentPageIndex===e+1||f.currentPageIndex===e-1||f.currentPageIndex===e+2||f.currentPageIndex===e-2)&&c(n,e)}function u(){f.sections.forEach(a)}var l={},f=n.get("val.sys");return l.render=u,l}),n.val("fn.throttle",function(n,e){var t=!0;return function(i){t&&(t=!1,setTimeout(function(){t=!0},e),n(i))}}),n.set("mod.parallax",function(){function t(){f.sections=[],e(f.sectionClass).each(function(){var n=[];e(this).find(".sog").find(".so").each(function(){n.push(e(this)[0])}),0===n.length?f.sections.push({isSlide:!1,height:e(this).height(),offset:e(this).offset().top,items:[]}):f.sections.push({isSlide:!0,height:e(this).height(),offset:e(this).offset().top,items:n})}),console.table(f.sections)}function i(){f.screenCenterX=f.winWidth/2-f.clientX,f.screenCenterY=f.winHeight/2-f.clientY}function o(){f.headerHeight=e(".section.header").height()}function r(){var n=f.sections;f.currentPageIndex=0;for(var e=n.length-1;e>=0;e--)if(f.scrollY>=n[e].offset){f.currentPageIndex=e;break}}function s(){f.winHeight=document.documentElement.clientHeight,f.winWidth=document.documentElement.clientWidth,i(),l.start()}function c(n){f.clientX=n.clientX,f.clientY=n.clientY,i(),l.start()}function a(){f.scrollY=window.scrollY,r(),l.start()}var u={},l=n.get("mod.loop"),f=n.get("val.sys");return u.init=function(){t(),s(),o(),window.addEventListener("resize",s),window.addEventListener("scroll",a),window.addEventListener("mousemove",c)},u})}(window.core,window.$,window.Modernizr),function(n){"use strict";n.set("mod.main",function(){var e={},t=n.get("mod.parallax");return e.init=function(){console.log("main init"),t.init()},e}),n.get("mod.main").init()}(window.core);