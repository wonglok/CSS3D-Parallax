!function(){"use strict";function n(){var n={fac:{},inst:{},val:function(t,e){n.inst[t]=e},set:function(t,e){n.inst[t]=null,n.fac[t]=e},get:function(t){return n.inst[t]||(n.inst[t]=n.make(t))},make:function(t){var e=n.fac[t];if(e)return console.log("coreMake: "+t),e();throw new Error("Factory Not Found!! "+t)}};return n}window.core=new n,console.log(window.core)}(),function(n,t,e){"use strict";n.val("val.sys",{slideVh:.75,winHeight:0,winWidth:0,clientX:0,clientY:0,screenCenterX:0,screenCenterY:0,scrollY:0,currentPageIndex:0,sections:[],sectionClass:".section"}),n.val("val.lastSys",{clientX:0}),n.val("fn.extend",function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}),n.set("mod.loop",function(){function t(){f.clientX===d.clientX&&f.scrollY===d.scrollY&&c.stop(),a(f,d)}function e(){r=window.requestAnimationFrame(e),void 0!==s.render&&"function"==typeof s.render&&(t(),s.render())}function i(){u=!1,window.cancelAnimationFrame(r)}function o(){u||(u=!0,e())}var r,c={},s=n.get("mod.renderer"),u=!1,a=n.get("fn.extend"),d=n.get("val.sys"),f=n.get("val.lastSys");return c.stop=i,c.start=o,c}),n.set("mod.renderer",function(){function i(n){return f.sections[n].offset}function o(n){return f.sections[n].height}function r(n){var t=Math.abs(f.winHeight-o(n))/2,e=f.scrollY-i(n)+t;return e}function c(n,e){n.items.forEach(function(n){var i=f.screenCenterX/-10*n.friction/4,o=r(e)/4+f.screenCenterY/-10,c=0;t(n.el).css("transform","translate3d("+i+"px,"+o+"px,"+c+"px)")})}function s(n,t){n.isSlide===!0&&(e.touch||c(n,t))}function u(n,t){(f.currentPageIndex===t||f.currentPageIndex===t+1||f.currentPageIndex===t-1)&&s(n,t)}function a(){f.sections.forEach(u)}var d={},f=n.get("val.sys");return d.render=a,d}),n.val("fn.throttle",function(n,t){var e=!0;return function(i){e&&(e=!1,setTimeout(function(){e=!0},t),n(i))}}),n.set("mod.parallax",function(){function i(){v.sections=[],t(".slide-section").each(function(){var n=[];t(this).find(".sog").find(".so").each(function(){n.push({el:t(this)[0],friction:t(this).attr("friction")})}),v.sections.push({isSlide:!0,height:t(this).height(),offset:t(this).offset().top,items:n})})}function o(){v.screenCenterX=v.winWidth/2-v.clientX,v.screenCenterY=v.winHeight/2-v.clientY}function r(){var n=v.sections;v.currentPageIndex=0;for(var t=n.length-1;t>=0;t--)if(v.scrollY>=n[t].offset){v.currentPageIndex=t;break}}function c(){v.winHeight=document.documentElement.clientHeight,v.winWidth=document.documentElement.clientWidth,o(),h.start()}function s(n){v.clientX=n.clientX,v.clientY=n.clientY,o(),h.start()}function u(){v.scrollY=window.scrollY,r(),h.start()}function a(){}function d(){}function f(){}function l(){}var w={},h=n.get("mod.loop"),v=n.get("val.sys");return w.init=function(){i(),c(),window.addEventListener("resize",c),e.touch?(window.addEventListener("touchstart",a),window.addEventListener("touchmove",d),window.addEventListener("touchcancel",f),window.addEventListener("touchend",l)):(window.addEventListener("scroll",u),window.addEventListener("mousemove",s))},w})}(window.core,window.$,window.Modernizr),function(n){"use strict";n.set("mod.main",function(){var t={},e=n.get("mod.parallax");return t.init=function(){console.log("main init"),e.init()},t}),n.get("mod.main").init()}(window.core);