!function(){"use strict";function n(){var n={fac:{},inst:{},val:function(t,e){n.inst[t]=e},set:function(t,e){n.inst[t]=null,n.fac[t]=e},get:function(t){return n.inst[t]||(n.inst[t]=n.make(t))},make:function(t){var e=n.fac[t];if(e)return console.log("coreMake: "+t),e();throw new Error("Factory Not Found!! "+t)}};return n}window.core=new n,console.log(window.core)}(),function(n,t,e){"use strict";n.val("val.sys",{winHeight:0,winWidth:0,clientX:0,clientY:0,screenCenterX:0,screenCenterY:0,scrollY:0,currentPageIndex:0,sections:[],sectionClass:".section",last:{}}),n.val("val.lastSys",{clientX:0}),n.val("fn.extend",function(n,t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}),n.set("mod.loop",function(){function t(){f.scrollY===u.scrollY&&c.stop(),a(f,u)}function e(){r=window.requestAnimationFrame(e),void 0!==s.render&&"function"==typeof s.render&&(t(),s.render())}function o(){l=!1,window.cancelAnimationFrame(r)}function i(){l||(l=!0,e())}var r,c={},s=n.get("mod.renderer"),l=!1,a=n.get("fn.extend"),u=n.get("val.sys"),f=n.get("val.lastSys");return c.stop=o,c.start=i,c}),n.set("mod.renderer",function(){function o(n){return d.sections[n].offset}function i(n){return d.sections[n].height}function r(n){var t=Math.abs(d.winHeight-i(n))/2,e=d.scrollY-o(n)+t;return e}function c(n,e){n.items.forEach(function(n){var o=d.screenCenterX/-10*n.factor/4,i=(r(e)/4+d.screenCenterY/-10)*n.factor/10,c=0;t(n.el).css("transform","translate3d("+o+"px,"+i+"px,"+c+"px)")})}function s(n,e){n.items.forEach(function(n){var o=0,i=r(e)/4*n.factor/10,c=0;t(n.el).css("transform","translate3d("+o+"px,"+i+"px,"+c+"px)")})}function l(n,t){n.isSlide===!0&&(e.touch?s(n,t):c(n,t))}function a(n,t){(d.currentPageIndex===t||d.currentPageIndex===t+1||d.currentPageIndex===t-1)&&l(n,t)}function u(){d.sections.forEach(a)}var f={},d=n.get("val.sys");return f.render=u,f}),n.val("fn.throttle",function(n,t){var e=!0;return function(o){e&&(e=!1,setTimeout(function(){e=!0},t),n(o))}}),n.set("mod.parallax",function(){function o(){f.sections=[],t(".slide-section").each(function(){var n=[];t(this).find(".so").each(function(){n.push({el:t(this)[0],scroll:t(this).attr("scroll"),mouse:t(this).attr("mouse"),factor:t(this).attr("factor")})}),f.sections.push({isSlide:!0,height:t(this).height(),offset:t(this).offset().top,items:n})})}function i(){f.screenCenterX=f.winWidth/2-f.clientX,f.screenCenterY=f.winHeight/2-f.clientY}function r(){var n=f.sections;f.currentPageIndex=0;for(var t=n.length-1;t>=0;t--)if(f.scrollY>=n[t].offset){f.currentPageIndex=t;break}}function c(){f.winHeight=document.documentElement.clientHeight,f.winWidth=document.documentElement.clientWidth,i(),u.start()}function s(n){f.clientX=n.clientX,f.clientY=n.clientY,i(),u.start()}function l(){f.scrollY=window.scrollY,r(),u.start()}var a={},u=n.get("mod.loop"),f=n.get("val.sys"),d=n.get("mod.mobileScroll");return a.init=function(){o(),c(),window.addEventListener("resize",c),e.touch?(d.init(),window.addEventListener("scroll",l)):(window.addEventListener("scroll",l),window.addEventListener("mousemove",s))},a}),n.set("mod.mobileScroll",function(){function t(n){r.last.cX=n.touches[0].clientX,r.last.cY=n.touches[0].clientY}function e(n){n.preventDefault();var t=n.touches[0].clientX,e=n.touches[0].clientY,o=r.last.cX-t,i=r.last.cY-e;window.scrollTo(o+window.scrollX,i+window.scrollY),r.scrollX=window.scrollX,r.scrollY=window.scrollY,r.last.cX=t,r.last.cY=e}function o(){document.addEventListener("touchstart",t),document.addEventListener("touchmove",e)}var i={},r=n.get("val.sys");return r.last=r.last||{},i.init=o,i})}(window.core,window.$,window.Modernizr),function(n){"use strict";n.set("mod.main",function(){var t={},e=n.get("mod.parallax");return t.init=function(){console.log("main init"),e.init()},t}),n.get("mod.main").init()}(window.core);